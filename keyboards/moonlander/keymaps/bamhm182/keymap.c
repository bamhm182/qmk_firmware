#include QMK_KEYBOARD_H
#include "version.h"

enum layers {
    _COLEMAK,
    _LOWER,
    _RAISE,
    _ADJUST,
    _QWERTY,
    _CDL
};

enum custom_keycodes {
    VRSN = SAFE_RANGE,
};

// clang-format off
const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {
/* Template
       1       2        3        4        5        6        7                7        6        5        4        3        2        1
   ,-------------------------------------------------------------.        ,--------------------------------------------------------------.
 1 |       |        |        |        |        |        |        |        |        |        |        |        |        |        |        | 1
   |-------+--------+--------+--------+--------+--------+--------|        |--------+--------+--------+--------+--------+--------+--------|
 2 |       |        |        |        |        |        |        |        |        |        |        |        |        |        |        | 2
   |-------+--------+--------+--------+========+--------+--------|        |--------+--------+========+--------+--------+--------+--------|
 3 |       |        |        |        |        |        |        |        |        |        |        |        |        |        |        | 3
   |-------+--------+--------+--------+========+--------+--------'        `--------+--------+========+--------+--------+--------+--------|
 4 |       |        |        |        |        |        |                          |        |        |        |        |        |        | 4
   |-------+--------+--------+--------+--------+--------,                          `--------+--------+--------+--------+--------+--------|
 5 |       |        |        |        |        | ,--------.                     ,--------.  |        |        |        |        |        | 5
   `-------------------------------------------' |        |                     |        |  `--------------------------+--------+--------'
                                        ,--------+--------+--------.   ,--------+--------+--------.
                                        |        |        |        |   |        |        |        |
                                        `--------------------------'   `--------------------------'
*/
/*
  [_TEMPLATE] = LAYOUT_moonlander(
    _______, _______, _______, _______, _______, _______, _______,          _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______,          _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______, _______,          _______, _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______, _______,                            _______, _______, _______, _______, _______, _______,
    _______, _______, _______, _______, _______,   _______,                       _______,    _______, _______, _______, _______, _______,
                                          _______, _______, _______,     _______, _______, _______
  ),
*/

/* Colemak
       1       2        3        4        5        6        7                7        6        5        4        3        2        1
   ,-------------------------------------------------------------.       ,--------------------------------------------------------------.
 1 |       |        |        |        |        |        |        |       |        |        |        |        |        |        |        | 1
   |-------+--------+--------+--------+--------+--------+--------|       |--------+--------+--------+--------+--------+--------+--------|
 2 | Esc   |   Q    |   W    |   F    |   P    |   B    |        |       |        |   J    |   L    |   U    |   Y    |  ; :   |        | 2
   |-------+--------+--------+--------+========+--------+--------|       |--------+--------+========+--------+--------+--------+--------|
 3 | Bksp  |   A    |   R    |   S    |   T    |   G    |        |       |        |   M    |   N    |   E    |   I    |   O    | Enter  | 3
   |-------+--------+--------+--------+========+--------+--------'       `--------+--------+========+--------+--------+--------+--------|
 4 | Shift |   Z    |   X    |   C    |   D    |   V    |                         |   K    |   H    |  , <   |  . >   |  / ?   |  ' "   | 4
   |-------+--------+--------+--------+--------+--------,                         `--------+--------+--------+--------+--------+--------|
 5 |       |        |        |        |        | ,--------.                     ,--------. |        |        |        |        |        | 5
   `-------------------------------------------' |        |                     |        | `--------------------------+--------+--------'
                                        ,--------+--------+--------.   ,--------+--------+--------.
                                        | GUI    | Ctrl   | Lower  |   | Raise  | Alt    | Ctrl   |
                                        `--------------------------'   `--------------------------'
*/
  [_COLEMAK] = LAYOUT_moonlander(
    _______, _______, _______, _______, _______, _______, _______,         _______, _______, _______, _______, _______, _______, _______,
    KC_ESC , KC_Q   , KC_W   , KC_F   , KC_P   , KC_B   , _______,         _______, KC_J   , KC_L   , KC_U   , KC_Y   , KC_SCLN, _______,
    KC_BSPC, KC_A   , KC_R   , KC_S   , KC_T   , KC_G   , _______,         _______, KC_M   , KC_N   , KC_E   , KC_I   , KC_O   , KC_ENT ,
    _______, KC_Z   , KC_X   , KC_C   , KC_D   , KC_V   ,                           KC_K   , KC_H   , KC_COMM, KC_DOT , KC_SLSH, KC_QUOT,
    _______, _______, _______, _______, _______,   _______,                       _______,   _______, _______, _______, _______, _______,
                                          _______, _______, LOWER  ,     RAISE  , _______, _______
  ),
};

bool process_record_user(uint16_t keycode, keyrecord_t *record) {
    if (record->event.pressed) {
        switch (keycode) {
        case VRSN:
            SEND_STRING (QMK_KEYBOARD "/" QMK_KEYMAP " @ " QMK_VERSION);
            return false;
        }
    }
    return true;
}
